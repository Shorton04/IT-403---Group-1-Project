{% extends 'base.html' %}
 
{% block title %}
Task List - My Project Management App
{% endblock %}
 
{% block content %}
<div class="container mt-5" style="max-width: 1000px; margin: auto;">
    <h1 class="display-6 mb-4" style="font-weight: bold;">Task List</h1>
    <div class="table-responsive">
        <table class="table table-striped table-hover align-middle" style="width: 100%; border-collapse: collapse;">
            <thead style="background-color: #5a5e63; color: white;">
                <tr>
                    <th scope="col" style="padding: 12px;">Project Name</th>
                    <th scope="col" style="padding: 12px;">Task Name</th>
                    <th scope="col" style="padding: 12px;">Priority</th>
                    <th scope="col" style="padding: 12px;">Status</th>
                    <th scope="col" style="padding: 12px;">Deadline</th>
                </tr>
            </thead>
            <tbody>
                {% for task in tasks %}
                <tr>
                    <td style="padding: 12px;">{{ task.project.name }}</td>
                    <td style="padding: 12px;">{{ task.name }}</td>
                    <td style="padding: 12px;">
                        <span style="display: inline-block; padding: 5px 10px; color: white; border-radius: 5px; {% if task.priority == 'urgent' %}background-color: #ff4d4f;{% elif task.priority == 'priority' %}background-color: #ffc107;{% else %}background-color: #28a745;{% endif %}">
                            {{ task.get_priority_display }}
                        </span>
                    </td>
                    <td style="padding: 12px;">
                        <span style="display: inline-block; padding: 5px 10px; color: white; border-radius: 5px; {% if task.status == 'done' %}background-color: #28a745;{% elif task.status == 'in_progress' %}background-color: #17a2b8;{% else %}background-color: #6c757d;{% endif %}">
                            {{ task.get_status_display }}
                        </span>
                    </td>
                    <td style="padding: 12px;">{{ task.deadline|date:"M d, Y" }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5" style="text-align: center; padding: 12px; color: #6c757d;">No tasks found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}