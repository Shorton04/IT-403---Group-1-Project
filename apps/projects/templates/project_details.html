<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
{% extends "base.html" %}

{% block content %}
<div style="max-width: 900px; margin: auto; padding: 20px;">
    <h1 style="font-weight: bold; color: #007bff;">{{ project.name }}</h1>
    <p><strong>Description:</strong> {{ project.description }}</p>
    <p><strong>Deadline:</strong> {{ project.deadline }}</p>
    <p><strong>Project Manager:</strong> {{ project.project_manager.full_name }}</p>
    <p><strong>Members:</strong></p>
    <ul>
        {% for member in project.members.all %}
        <li>{{ member.full_name }}</li>
        {% empty %}
        <li>No members assigned.</li>
        {% endfor %}
    </ul>

    <a href="#" id="assign-task-btn" style="padding: 10px 15px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px; font-size: 14px;">
        Assign Task
    </a>
</div>

<!-- Add Task Modal -->
<div id="assign-task-modal" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; border: 1px solid #ddd; border-radius: 5px; padding: 20px; width: 80%; max-width: 500px; z-index: 1000;">
    <h2 style="margin-bottom: 20px; color: #007bff;">Assign Task</h2>
    <form method="POST" action="#">
        {% csrf_token %}
        <div style="margin-bottom: 15px;">
            <label for="task-name" style="font-weight: bold;">Task Name</label>
            <input type="text" name="task_name" id="task-name" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
        </div>
        <div style="margin-bottom: 15px;">
            <label for="task-desc" style="font-weight: bold;">Task Description</label>
            <textarea name="task_description" id="task-desc" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;"></textarea>
        </div>
        <div style="margin-bottom: 15px;">
            <label for="task-deadline" style="font-weight: bold;">Deadline</label>
            <input type="date" name="task_deadline" id="task-deadline" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
        </div>
        <div style="margin-bottom: 15px;">
            <label for="task-member" style="font-weight: bold;">Assign To</label>
            <select name="assigned_member" id="task-member" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                {% for member in project.members.all %}
                <option value="{{ member.id }}">{{ member.full_name }}</option>
                {% endfor %}
            </select>
        </div>
        <div style="display: flex; justify-content: flex-end;">
            <button type="button" id="cancel-assign-task" style="padding: 10px 15px; background-color: #dc3545; color: white; border: none; border-radius: 5px; font-size: 14px; margin-right: 10px; cursor: pointer;">
                Cancel
            </button>
            <button type="submit" style="padding: 10px 15px; background-color: #28a745; color: white; border: none; border-radius: 5px; font-size: 14px; cursor: pointer;">
                Assign
            </button>
        </div>
    </form>
</div>
<script>
    document.getElementById('assign-task-btn').addEventListener('click', function() {
        document.getElementById('assign-task-modal').style.display = 'block';
    });
    document.getElementById('cancel-assign-task').addEventListener('click', function() {
        document.getElementById('assign-task-modal').style.display = 'none';
    });
</script>
{% endblock %}

</body>
</html>